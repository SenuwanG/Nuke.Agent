import subprocess
import weasyprint
def vulnerability_scanner():
try:
# code here indented by 4 spaces
except Exception as e:

cmd = "dpkg-query -W -f='${Package}\t${Version}\n'"
result = subprocess.check_output(cmd, shell=True, universal_newlines=True)
return result.strip().split('\n')

except subprocess.CalledProcessError as e:
print(f"Error: {e}")
return []
def generate_report(installed_packages):
report = "Software Report:\n\n"
for package_info in installed_packages:
package, version = package_info.split('\t')
report += f"{package}: {version}\n"
return report
def save_report_to_pdf(report, filename="software_report.pdf"):
html = f"<html><body>{report}</body></html>"
weasyprint.HTML(string=html).write_pdf(filename)
print(f"Report saved to {filename}")
if name == "main":
installed_packages = get_installed_packages()
report = generate_report(installed_packages)
print(report)

Copy

save_to_file = input("Do you want to save the report to a PDF file? (y/n): ").lower()
if save_to_file == "y":
    save_report_to_pdf(report)
